import websphinx.*;
import java.net.*;


public class Sphinx extends Crawler{
    private Sphnx crawler = new Sphinx();
    
    public Sphinx() {
	crawler.setDepthFirst(false);
	crawler.setDomain(Crawler.SUBTREE);
    }
    public void visit(Page p) {
	System.out.println("["+p.getDepth()+"] "+p.toURL());
    }

    public boolean shouldVisit(Link l) {
	return super.shouldVisit(l);
    }
    
    public void setDepth(int depth) {
	crawler.ssetMaxDepth(depth);
    }

    public void setRoot(String root) {
	URL url = new URL(root);
	Link link = new Link(url);
	crawler.setRoot(link);
    }
    
    public void run() {
	crawler.run();
    }
   
    public static void main (String args[]) throws Exception {
	Sphinx loadedCrawler = new Sphinx();
	//loadedCrawler.addClassifier(StandardClassifier);
	loadedCrawler.setMaxDepth(3);
	loadedCrawler.setDepthFirst(true);
	loadedCrawler.setDomain(Crawler.SUBTREE);
	URL url = new URL(args[0]);
	Link link = new Link(url);
	loadedCrawler.setRoot(link);
	//EventLog.monitor (loadedCrawler).setOnlyNetworkEvents (false);
	loadedCrawler.run ();
    }
}